<table class="table table-striped">
	<thead>
		<tr>
			<th scope="col">Name</th>
			<th scope="col">Symbol</th>
			<th scope="col">Current Price</th>
			<th scope="col">Actions</th>
		</tr>
	</thead>
	<tbody>
		<% @user_stocks.each do |stock| %>
		<tr class="stock-row">
			<td><%= stock.name %></td>
			<td><%= stock.ticker %></td>
			<td><%= stock.last_price %></td>
			<% if @user.id == current_user.id %>
			<td class="stock-col"><%= link_to "Unfollow", user_stock_path(stock), class: "follow -unfollow", method: :delete %></td>
			<% else %>
			<td class="stock-col">
				<% if current_user.can_add_stock?(@stock.ticker) %>
					<%= link_to "Follow", user_stocks_path(user: current_user, stock_ticker: @stock.ticker), class: "follow", method: :post %>
				<% elsif current_user.stock_already_added?(@stock.ticker) && current_user.under_stock_limit? %>
					<%= link_to "Added!", user_stocks_path(user: current_user, stock_ticker: @stock.ticker), class: "follow -added -disable", method: :post %>
				<% elsif !current_user.under_stock_limit? %>
					<%= link_to "Follow", user_stocks_path(user: current_user, stock_ticker: @stock.ticker), class: "follow -disable", method: :post %>
				<% end %>
			</td>
			<% end %>
		</tr>
		<% end %>
	</tbody>
</table>
